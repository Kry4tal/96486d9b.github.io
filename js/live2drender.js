"use strict";var homePath="https://www.96486d9b.cn/";function showHitokoto(){$.getJSON("https://v1.hitokoto.cn/",function(e){showMessage(e.hitokoto,5e3)})}function showMessage(e,o){Array.isArray(e)&&(e=e[Math.floor(Math.random()*e.length+1)-1]),$(".waifu-tips").stop(),$(".waifu-tips").html(e).fadeTo(200,1),null===o&&(o=5e3),hideMessage(o)}function hideMessage(e){$(".waifu-tips").stop().css("opacity",1),null===e&&(e=5e3),$(".waifu-tips").delay(e).fadeTo(200,0)}var live2dBind=function(){String.prototype.render=function(l){return this.replace(/(\\)?\{([^\{\}\\]+)(\\)?\}/g,function(e,o,i,t){if(o||t)return e.replace("\\","");var s,n,r=i.replace(/\s/g,"").split("."),a=l;for(s=0,n=r.length;s<n;++s)if(null==(a=a[r[s]]))return"";return a})};var e=/x/;console.log(e),e.toString=function(){return showMessage("哈哈，你打开了控制台，是想要看看我的秘密吗？",5e3),""},$(document).on("copy",function(){showMessage("你都复制了些什么呀，转载要记得加上出处哦~",5e3)}),$(".waifu-tool .fa-window-close").click(function(){showMessage("我们还能再见面的吧…",1500),window.setTimeout(function(){$(".waifu").hide()},1500)}),$(".waifu-tool .fa-music").click(function(){apFixed.toggle()}),$(".waifu-tool .fa-comment").click(function(){showHitokoto()}),$.ajax({cache:!0,url:"/live2d/message.json",dataType:"json",success:function(e){$.each(e.mouseover,function(e,o){$(document).on("mouseover",o.selector,function(){var e=o.text;Array.isArray(o.text)&&(e=o.text[Math.floor(Math.random()*o.text.length+1)-1]),showMessage(e=e.render({text:$(this).text()}),1e3)})}),$.each(e.click,function(e,o){$(document).on("click",o.selector,function(){var e=o.text;Array.isArray(o.text)&&(e=o.text[Math.floor(Math.random()*o.text.length+1)-1]),showMessage(e=e.render({text:$(this).text()}),1e3)})})}})},live2dWelcome=function(){var e;if(""!==document.referrer){var o=document.createElement("a");o.href=document.referrer,e='嗨！来自 <span style="color:#0099cc;">'+o.hostname+"</span> 的朋友！";var i=o.hostname.split(".")[1];"baidu"==i?e='嗨！ 来自 百度搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 '+document.title.split(" - ")[0]+" 」</span>":"so"==i?e='嗨！ 来自 360搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 '+document.title.split(" - ")[0]+" 」</span>":"google"==i&&(e='嗨！ 来自 谷歌搜索 的朋友！<br>欢迎访问<span style="color:#0099cc;">「 '+document.title.split(" - ")[0]+" 」</span>")}else if(window.location.href=="".concat(homePath)){var t=(new Date).getHours();e=23<t||t<=5?"你是夜猫子呀？这么晚还不睡觉，明天起的来嘛？":5<t&&t<=7?"早上好！一日之计在于晨，美好的一天就要开始了！":7<t&&t<=11?"上午好！工作顺利嘛，不要久坐，多起来走动走动哦！":11<t&&t<=14?"中午了，工作了一个上午，现在是午餐时间！":14<t&&t<=17?"午后很容易犯困呢，今天的运动目标完成了吗？":17<t&&t<=19?"傍晚了！窗外夕阳的景色很美丽呢，最美不过夕阳红~~":19<t&&t<=21?"晚上好，今天过得怎么样？":21<t&&t<=23?"已经这么晚了呀，早点休息吧，晚安~~":"嗨~ 快来逗我玩吧！"}else e='欢迎来到 <span style="color:#0099cc;">「 '+document.title.split(" - ")[0]+" 」</span>";showMessage(e,4e3)};function showConsoleTips(e){console.log("%cLive2d%c模型"+e+"完成","font-family:'微软雅黑';font-size:1em;background-color:#34a853;color:#fff;padding:4px;","font-family:'微软雅黑';font-size:1em;background-color:#42d268;color:#fff;padding:4px;")}var queue=new createjs.LoadQueue;function handleComplete(){$(".waifu-tool span").hide(),loadlive2d("live2d","/live2d/model/uiharu/uiharu.model.json",showConsoleTips("加载")),$("#live2d").animate({opacity:"1"},2e3),window.setTimeout(function(){live2dBind(),live2dWelcome(),$(".waifu-tool span").show()},2e3)}queue.installPlugin(createjs.Sound),queue.on("complete",handleComplete,void 0),queue.loadManifest([{id:"t_1",src:"/live2d/model/uiharu/uiharu.1024/texture_00.png"},{id:"t_2",src:"/live2d/model/uiharu/uiharu.1024/texture_01.png"},{id:"m_1",src:"/live2d/model/uiharu/motions/tap/motion1.mtn"},{id:"m_2",src:"/live2d/model/uiharu/motions/tap/motion2.mtn"},{id:"m_3",src:"/live2d/model/uiharu/motions/tap/motion3.mtn"},{id:"m_4",src:"/live2d/model/uiharu/motions/tap/motion4.mtn"},{id:"m_5",src:"/live2d/model/uiharu/motions/tap/motion5.mtn"},{id:"m_6",src:"/live2d/model/uiharu/motions/tap/motion6.mtn"},{id:"m_7",src:"/live2d/model/uiharu/motions/tap/motion7.mtn"},{id:"e_1",src:"/live2d/model/uiharu/expressions/f01.exp.json"},{id:"e_2",src:"/live2d/model/uiharu/expressions/f02.exp.json"},{id:"e_3",src:"/live2d/model/uiharu/expressions/f03.exp.json"},{id:"e_4",src:"/live2d/model/uiharu/expressions/f04.exp.json"},{id:"e_5",src:"/live2d/model/uiharu/expressions/f05.exp.json"},{id:"e_6",src:"/live2d/model/uiharu/expressions/f06.exp.json"},{id:"e_7",src:"/live2d/model/uiharu/expressions/f07.exp.json"},{id:"e_8",src:"/live2d/model/uiharu/expressions/f08.exp.json"},{id:"f_1",src:"/live2d/model/uiharu/physics.json"},{id:"f_2",src:"/live2d/model/uiharu/uiharu.moc"},{id:"f_3",src:"/live2d/model/uiharu/uiharu.model.json"}]);